<?phprequire_once('../includes/initialize.php');$per_page=25;$page =!empty($_GET['page']) ? (int)$_GET['page'] : 1;$refsql =!empty($_GET['sql']) ? $_GET['sql'] : "";if(isset($_POST['search'])) {	// search Form has been submitted	$keyw1 = trim(strtoupper($_POST['key1']));	$keyw2 = trim(strtoupper($_POST['key2']));	$keyw3 = trim(strtoupper($_POST['key3']));	$keyw4 = trim(strtoupper($_POST['key4']));	$keyw5 = trim(strtoupper($_POST['key5']));	$refsql = References::pub_by_keyword($keyw1,$keyw2,$keyw3,$keyw4,$keyw5);}$total_count = References::count_in_full_sql($refsql);$pagination = new Pagination($page, $per_page, $total_count);$found_records = References::find_by_full_sql_lim($refsql, $per_page, $pagination->offset());?><?php include_layout_template('header.php'); ?><div id="leftcol"><h3>Publication by keyword</h3>		<form action="a_pub_by_keyword.php" method="post">		  <table>		    <tr>		      <td>Keyb code 1:</td>		      <td>		        <input type="text" name="key1" size="3" maxlength="3" value="<?php echo $keyw1?>"/>		      </td>		    </tr>		    <tr>		      <td>Keyb code 2:</td>		      <td>		        <input type="text" name="key2" size="3" maxlength="3" value="<?php echo $keyw2?>" />		      </td>		    </tr>		    <tr>		      <td>Keyb code 3:</td>		      <td>		        <input type="text" name="key3" size="3" maxlength="3" value="<?php echo $keyw3?>" />		      </td>		    </tr>		    <tr>		      <td>Keyb code 4:</td>		      <td>		        <input type="text" name="key4" size="3" maxlength="3" value="<?php echo $keyw4?>" />		      </td>		    </tr>		    <tr>		      <td>Keyb code 5:</td>		      <td>		        <input type="text" name="key5" size="3" maxlength="3" value="<?php echo $keyw5?>" />		      </td>		    </tr>		    <tr>		      <td colspan="1">		        <input type="submit" name="search" value="Get results" />				</form>			   				</td>    		</tr>		  </table><?php 	$current_page = $pagination->next_page()-1;	echo "Found - ". $total_count . "<br/>Page ". $current_page ." out of ". $pagination->total_pages() . "<br/>";	if($pagination->total_pages() > 1) {			if($pagination->has_previous_page()){			echo " <a href=\"a_pub_by_keyword.php?page=";			echo $pagination->previous_page();			echo "&sql=".$refsql."\">&laquo; Previous</a> ";		}			if($pagination->has_next_page()){			echo " <a href=\"a_pub_by_keyword.php?page=";			echo $pagination->next_page();			echo "&sql=".$refsql."\">Next &raquo; </a> ";		}		}?></div>		<div id="data"><?php //echo $message."</br>";if(isset($found_records))	foreach($found_records as $record){		echo "<table>				<tr>					<td width=650>".$record[0]." ".$record[1]." ".$record[2]." ".					$record[3]." ".$record[4]." ".$record[5]." ".$record[6]." ".					$record[7]."</td>				</tr>			</table>";		}?></div><?php include_layout_template('footer.php'); ?>		