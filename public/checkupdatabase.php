<?phprequire_once('../includes/initialize.php');//if(isset($_POST['reccount'])) unset($_POST['codecheck']);$message = "Total number of records in tables </br>";$message .= "Holdings: " . Holdings::count_all() ."</br>";$message .= "References: " . References::count_all() ."</br>";$message .= "Data: " . Data::count_all() ."</br>";$message .= "Keywords: " . Keywords::count_all() ."</br>";$message .= "Authors: " . Authors::count_all() ."</br>";$message .= "Names: " . Names::count_all() ."</br>";$message .= "Translations: " . Translations::count_all() ."</br>";$message .= "Abbreviations: " . Abbreviations::count_all() ."</br></br>";$message .= "Countries: " . Country::count_all() ."</br>";$message .= "States: " . State::count_all() ."</br>";$message .= "Regions: " . Region::count_all() ."</br>";$message .= "Keywordcodes: " . Keycodes::count_all() ."</br>";$message .= "Subjects: " . Subjects::count_all() ."</br>";$message .= "Journals: " . Journals::count_all() ."</br>";$message .= "Books: " . Books::count_all() ."</br>";$message .= "Languages: " . Languages::count_all() ."</br>";$message .= "Isotopes: " . Isotopes::count_all() ."</br>";$message .= "Flags: " . Flags::count_all() ."</br>";$message .= "Libraries: " . Libraries::count_all() ."</br>";$message .= "Ranks: " . Ranks::count_all() ."</br>";$message .= "Sources: " . Sources::count_all() ."</br>";$message .= "Users: " . User::count_all() ."</br>";//if(isset($_POST['codecheck'])) {	// search Form has been submitted//	$message = "Searched References: ". References::count_ref_key_err() ." ref_code errors.</br>";//	}if(isset($_POST['abbrevcheck'])) {	// search Form has been submitted	$result_recs = Abbreviations::abbreviation_err();  	$message = "Searched Abbreviations: " . count($result_recs) . " incomplete records.</br>";	foreach($result_recs as $record){	  $message .= $record->medi_num . " " . $record->abbr_code . " " . $record->definition . "</br>";	}	}if(isset($_POST['authorcheck'])) {	// search Form has been submitted	$result1_recs = Authors::author_name_err();	$message = "Searched Authors: " . count($result1_recs) . " records not matching name code .</br>";	foreach($result1_recs as $record){ $message .= $record->author_key . " " ;}		$result2_recs = Authors::author_ref_err();  	$message .= "</br>Searched Authors: " . count($result2_recs) . " records not matching reference or holding code .</br>";	foreach($result2_recs as $record){ $message .= $record->ref_key . " " ;}	}if(isset($_POST['bookcheck'])) {	// search Form has been submitted	$result_recs = Books::book_err();  	$message = "Searched Books: " . count($result_recs) . " incomplete or not matching language code records.</br>";	foreach($result_recs as $record){	  $message .= $record->book_code . " " . $record->year . " " . $record->title . $record->lang_abb . " </br>";	}	}if(isset($_POST['keywordcheck'])) {	// search Form has been submitted	$result_recs = Keywords::keyword_err();  	$message = "Searched Keywords: " . count($result_recs) . " records not matching keyword or isotope code .</br>";	foreach($result_recs as $record){	  $message .= $record->ref_key . " " . $record->data_key . " " . $record->keyword_code . "</br>";	}	}if(isset($_POST['datacheck'])) {	// search Form has been submitted	$result_recs = Data::data_err();  	$message = "Searched Data: " . count($result_recs) . " records not complete or not matching isotope code .</br>";	foreach($result_recs as $record){	  $message .= $record->ref_key . " " . $record->dat_key ." " . $record->isotope_code . " " . $record->source . " " . $record->absorber ."</br>";	}	}if(isset($_POST['holdingcheck'])) {	// search Form has been submitted	$result1_recs = Holdings::hold_err();  	$message = "Searched Holdings: " . count($result1_recs) . " incomplete or not matching author code records.</br>";	foreach($result1_recs as $record){	  $message .= $record->hold_key . " " . $record->journal_code . " " . $record->year ." " . $record->pages . " " . $record->fauthor_code ." " . $record->cauthor_code . " " . $record->article_title ."</br>";	}	$result2_recs = Holdings::journal_code_err();  	$message .= "</br>Searched Holdings: " . count($result2_recs) . " not matching journal or book code records.</br>";	foreach($result2_recs as $record){	  $message .= $record->hold_key . " " . $record->journal_code . " - ";	}	}if(isset($_POST['refcheck'])) {	// search Form has been submitted	$result_recs = References::ref_err();  	$message = "Searched References: " . count($result_recs) . " incomplete or not matching journal or book code records.</br>";	foreach($result_recs as $record){	  $message .= $record->ref_key . " " . $record->journal_code . " " . $record->year ." " . $record->pages . " " . $record->article_title ."</br>";	}	}if(isset($_POST['translationcheck'])) {	// search Form has been submitted	$result_recs = Translations::translation_err();  	$message = "Searched Translations: " . count($result_recs) . "  not matching ref_key or journal_code records .</br>";//	foreach($result_recs as $record){//	  $message .= $record->ref_key . " " . $record->journal_code . " " . $record->year . "</br>";//	}	}if(isset($_POST['namecheck'])) {	// search Form has been submitted	$result1_recs = Names::name_err();  	$message = "Searched Names: " . count($result1_recs) . " not complete records</br>";	foreach($result1_recs as $record){	  $message .= $record->author_key . " " . $record->first_name . " " . $record->last_neme ." ". $record->institution ."</br>";	}		$result2_recs = Names::name_code_err();  	$message .= "Searched Names: " . count($result2_recs) . " records not matching country or state code or not proper name code.</br>";	foreach($result2_recs as $record){	  $message .= $record->author_key . " " . $record->country_code . " " . $record->state_code . "</br>";	}	}if(isset($_POST['journalcheck'])) {	// search Form has been submitted	$result_recs = Journals::journal_err();  	$message = "Searched Journals: " . count($result_recs) . " incomplete or not matching language code records  .</br>";	foreach($result_recs as $record){	  $message .= $record->journal_code . " " . $record->title_abb . " - " . $record->lang_code ." - ". $record->title . "</br>";	}	}if(isset($_POST['keywordcodecheck'])) {	// search Form has been submitted	$result_recs = Keycodes::keywordcode_err();  	$message = "Searched Keywordcodes " . count($result_recs) . " incomplete records .</br>";	foreach($result_recs as $record){	  $message .= $record->keyword_code . " " . $record->definition . " " . $record->subject_flag . "</br>";	}	}if(isset($_POST['countrycheck'])) {	// search Form has been submitted	$message = "Searched Countries: ". Country::country_err() ." incomplete or no matching to region code records.</br>";	}if(isset($_POST['flagcheck'])) {	// search Form has been submitted	$message = "Searched Flags: ". Flags::flag_err() ." incomplete records.</br>";	}if(isset($_POST['isotopecheck'])) {	// search Form has been submitted	$message = "Searched Isotopes: ". Isotopes::isotope_err() ." incomplete records.</br>";	}if(isset($_POST['langcheck'])) {	// search Form has been submitted	$message = "Searched Languages: ". Languages::lang_err() ." incomplete records.</br>";	}if(isset($_POST['librarycheck'])) {	// search Form has been submitted	$message = "Searched Libraries: ". Libraries::library_err() ." incomplete records.</br>";	}if(isset($_POST['rankcheck'])) {	// search Form has been submitted	$message = "Searched Ranks: ". Ranks::rank_err() ." incomplete records.</br>";	}if(isset($_POST['regioncheck'])) {	// search Form has been submitted	$message = "Searched Regions: ". Region::region_err() ." incomplete records.</br>";	}if(isset($_POST['sourcecheck'])) {	// search Form has been submitted	$message = "Searched Sources: ". Sources::source_err() ." empty records.</br>";	}if(isset($_POST['subjectcheck'])) {	// search Form has been submitted	$message = "Searched Subjects: ". Subjects::subject_err() ." incomplete records.</br>";	}if(isset($_POST['statecheck'])) {	// search Form has been submitted	$message = "Searched States: ". State::state_err() ." incomplete records.</br>";	}//print_r($found_records);?><?php include_layout_template('header.php'); ?><div id="leftcol">  <h3>Check for Error</h3>		<form action="checkupdatabase.php" method="post">		  <table>		    <tr><td><input type="submit" name="abbrevcheck" value="abbreviations  " /></td></tr>		    <tr><td><input type="submit" name="authorcheck" value="authors            " /></td></tr>			    <tr><td><input type="submit" name="bookcheck" value="books               " /></td></tr>			    <tr><td><input type="submit" name="countrycheck" value="countries          " /></td></tr>		    <tr><td><input type="submit" name="datacheck" value="data                   " /></td></tr>			    <tr><td><input type="submit" name="flagcheck" value="flags                  " /></td></tr>		    <tr><td><input type="submit" name="holdingcheck" value="holdings           " /></td></tr>			    <tr><td><input type="submit" name="isotopecheck" value="isotopes           " /></td></tr>		    <tr><td><input type="submit" name="journalcheck" value="journals           " /></td></tr>			    <tr><td><input type="submit" name="keywordcheck" value="keywords         " /></td></tr>		    <tr><td><input type="submit" name="keywordcodecheck" value="keywordcodes" /></td></tr> 		    <tr><td><input type="submit" name="langcheck" value="languages        " /></td></tr>		    <tr><td><input type="submit" name="librarycheck" value="libraries            " /></td></tr>		    <tr><td><input type="submit" name="namecheck" value="names               " /></td></tr>			    <tr><td><input type="submit" name="rankcheck" value="ranks                " /></td></tr>		    <tr><td><input type="submit" name="refcheck" value="references       " /></td></tr> 		    <tr><td><input type="submit" name="regioncheck" value="regions             " /></td></tr>		    <tr><td><input type="submit" name="sourcecheck" value="sources            " /></td></tr>		    <tr><td><input type="submit" name="statecheck" value="states               " /></td></tr>		    <tr><td><input type="submit" name="subjectcheck" value="subjects           " /></td></tr>			    <tr><td><input type="submit" name="translationcheck" value="translations     " /></td></tr>			    <tr><td><input type="submit" name="reccount" value="Done" /></td></tr>		  </table></div>		<div id="data"><?php echo $message."</br>";?></div><?php include_layout_template('footer.php'); ?>		