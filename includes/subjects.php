<?php// Look's like a duplicate of subject.php// If it's going to need the database, then it's   // probably smart to require it before we start.require_once(LIB_PATH.DS.'database.php');class Subjects extends DatabaseObject {		protected static $table_name="subject_code";	protected static $db_fields = array('id', 'subject_code', 'definition',						'begin_use', 'subject_flag');		public $id;	public $subject_code;	public $definition;	public $begin_use;	public $subject_flag;		  public function code_name() {    if(isset($this->keyword_code) && isset($this->keyword_name)) {      return $this->keyword_code . " - " . $this->keyword_name;    } else {      return "";    }  }public static function sub_sql_where($keycode, $definition){						$sql = "";		if($keycode !="") {$sql .=" AND subject_code= '{$keycode}' "; }		if($definition !="") {$sql .=" AND LOCATE('{$definition}',definition) ";}	return $sql;	}	public static function subject_present($keys) {	$subjpresent = FALSE;	$subjects = self::find_all();	foreach($subjects as $subj) if( in_array( $subj->subject_code, $keys) ) $subjpresent = TRUE;	return $subjpresent;	}	public function full_name() {    if(isset($this->subject_code) ) {      return $this->subject_code . "  " . $this->definition . "  " . $this->begin_use . "  " . $this->subject_flag;    } else {      return "";    }  }  public static function authenticate($subject_code="") {    global $database;    $state_code = $database->escape_value($subject_code);    $sql  = "SELECT * FROM subject_code ";    $sql .= "WHERE subject_code = '{$subject_code}' ";    $sql .= "LIMIT 1";    $result_array = self::find_by_sql($sql);		return !empty($result_array) ? array_shift($result_array) : false;	}	}?>