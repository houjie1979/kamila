<?php// If it's going to need the database, then it's // probably smart to require it before we start.require_once(LIB_PATH.DS.'database.php');class Languages extends DatabaseObject {		protected static $table_name="lang_code";	protected static $db_fields = array('id', 'lang_code', 'language', 					'journ_lang', 'begin_use');		public $id;	public $lang_code;	public $language;	public $journ_lang;	public $begin_use;		  	public function full_name() {    	if(isset($this->lang_code) && isset($this->language)) {      		return $this->lang_code . " " . $this->language;    	} else {      return "";    }  }  public function code_name() {    if(isset($this->lang_code) ) {      return $this->lang_code . "   " . $this->language;    } else {      return "";    }  }public function compose_language_list(){	$sql = "SELECT * FROM lang_code WHERE 1 ORDER BY lang_code";        return self::find_by_sql($sql);		}public function export_lang_list($records){	$tb =chr(9);	$lf =chr(10);	$output = "";	foreach($records as $rec) {		$output .= $rec->lang_code . $tb . $rec->language . $lf;		}	return $output;}public static function legit_lang_code($code) {	global $database;	$sql = "SELECT COUNT(*) FROM lang_code WHERE lang_code = '{$code}'";	$result_set = $database->query($sql);	if(array_shift($database->fetch_array($result_set)) == 1) return true;  else return false;//	if(mysql_num_rows($result_set) != 0) return true;  else return false;//	$rows = array_shift($database->fetch_array($result_set));//	if(!empty($rows)) 	return true;  else return false;	}public static function get_lang_code($lan){	if(isset($lan)) {		foreach($lan as $l) {			$l = trim(strtoupper($l));			$sql = " SELECT lang_code FROM lang_code WHERE language = '{$l}' ";			$rec = self::find_by_sql($sql);			if(!empty($rec)) return $rec[0]->lang_code; 		}	}	else return NULL;}	public static function lang_sql_where($langcode, $language){						$sql = "";		if($langcode !="") {$sql .=" AND lang_code= '{$langcode}' "; }		if($language !="") {$sql .=" AND LOCATE('{$language}',language) ";}	return $sql;	}	public static function authenticate($lang_code="") {    global $database;    $lang_code = $database->escape_value($lang_code);    $sql  = "SELECT * FROM lang_code ";    $sql .= "WHERE lang_code = '{$lang_code}' ";    $sql .= "LIMIT 1";    $result_array = self::find_by_sql($sql);		return !empty($result_array) ? array_shift($result_array) : false;	}public static function lang_err(){	global $database;	$select_sql = "SELECT COUNT(*) FROM lang_code WHERE lang_code = '' OR language =''  OR journ_lang =''";	$result_set = $database->query($select_sql);	$rows = array_shift($database->fetch_array($result_set));	if(!empty($rows)) {	return $rows; } else return '0';	}		}?>