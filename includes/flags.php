<?php// If it's going to need the database, then it's // probably smart to require it before we start.require_once(LIB_PATH.DS.'database.php');class Flags extends DatabaseObject {		protected static $table_name="flag_code";	protected static $db_fields = array('id', 'flag_abb', 'definition');		public $id;	public $flag_abb;	public $definition;		  public function full_name() {    if(isset($this->flag_abb) && isset($this->definition)) {      return $this->flag_abb . "  " . $this->definition;    } else {      return "";    }  }public static function flags_sql_where($flag_abb, $definition){						$sql = "";		if($flag_abb !="") {$sql .=" AND flag_abb= '{$flag_abb}' "; }		if($definition !="") {$sql .=" AND LOCATE('{$definition}',definition) ";}	return $sql;	}	public static function is_keyword($key) {	  global $database;	$sql = "SELECT COUNT(*) FROM keywords WHERE keyword_code = '{$key}'";	$result_set = $database->query($sql);	$row = $database->fetch_array($result_set);	echo $key." ".array_shift($row);	return array_shift($row);	}	public static function authenticate($flag_abb="") {    global $database;    $flag_abb = $database->escape_value($flag_abb);    $sql  = "SELECT * FROM flag_code ";    $sql .= "WHERE flag_abb = '{$flag_abb}' ";    $sql .= "LIMIT 1";    $result_array = self::find_by_sql($sql);		return !empty($result_array) ? array_shift($result_array) : false;	}	public static function flag_err(){	global $database;	$select_sql = "SELECT COUNT(*) FROM flag_code WHERE flag_abb = '' OR definition ='' ";	$result_set = $database->query($select_sql);	$rows = array_shift($database->fetch_array($result_set));	if(!empty($rows)) {	return $rows; } else return '0';	}			}?>